<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisor Dashboard</title>
    <link rel="icon" href="/images/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .navbar { background-color: #e4a801; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
        .navbar a { color: white; text-decoration: none; padding: 10px 20px; font-size: 1.1em; font-weight: bold; text-transform: uppercase; transition: background-color 0.3s ease; }
        .navbar a:hover { background-color: #d27c00; }
        .tab { cursor: pointer; padding: 10px 16px; border-bottom: 3px solid transparent; font-weight: 600; }
        .tab-active { border-color: #e4a801; color: #e4a801; }
        .card { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; }
        .btn { background-color: #e4a801; color: white; border-radius: 8px; padding: 10px 14px; border: none; cursor: pointer; font-weight: 600; }
        .btn:hover { background-color: #d27c00; }
        .btn-secondary { background-color: #374151; }
        .btn-secondary:hover { background-color: #111827; }
        .input { border: 1px solid #d1d5db; border-radius: 6px; padding: 10px; width: 100%; }
        .table { width: 100%; border-collapse: collapse; }
        .table th, .table td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; }
    </style>
    <script defer src="/js/supervisor-dashboard.js"></script>
    <script>
        function init() {
            const raw = sessionStorage.getItem('supervisor');
            if (!raw) { window.location.replace('/supervisor/login'); return; }
            const sup = JSON.parse(raw);
            const emailEl = document.getElementById('supEmail');
            if (emailEl) emailEl.textContent = sup.email;
        }
        function logout() { sessionStorage.removeItem('supervisor'); window.location.replace('/supervisor/login'); }
        window.addEventListener('DOMContentLoaded', init);
    </script>
</head>
<body class="bg-gray-50">
<div class="navbar">
    <div class="logo flex items-center gap-2">
        <img src="/images/logo.png" style="width:40px;height:auto;border-radius:8px;" alt="logo">
        <span class="text-white font-bold">Golden Dish Catering</span>
    </div>
    <div class="flex items-center gap-3">
        <span id="supEmail" class="text-white text-sm"></span>
        <button class="btn btn-secondary" onclick="logout()">Logout</button>
    </div>
</div>

<header style="background-image: url('/images/header-image.jpg'); background-size: cover; background-position: center; padding: 40px 0; text-align: center; color: white;">
    <h1>Supervisor Dashboard</h1>
    <p>Manage drivers, orders, deliveries, and assignments</p>
</header>

<main class="max-w-6xl mx-auto p-4">
    <div class="flex gap-6 border-b border-gray-200 mb-4">
        <div class="tab tab-active" data-tab="drivers">Drivers</div>
        <div class="tab" data-tab="orders">Orders</div>
        <div class="tab" data-tab="deliveries">Deliveries</div>
        <div class="tab" data-tab="assignments">Delivery Assignments</div>
    </div>

    <section id="tab-drivers" class="tab-panel">
        <div class="grid md:grid-cols-2 gap-4">
            <div class="card">
                <h2 class="text-lg font-semibold mb-2">Add / Update Driver</h2>
                <div class="grid gap-2">
                    <input id="drv-id" class="input" placeholder="ID (for update)" />
                    <input id="drv-email" class="input" placeholder="Email" />
                    <input id="drv-name" class="input" placeholder="Name" />
                    <input id="drv-status" class="input" placeholder="Status (AVAILABLE/ON_ROUTE)" />
                    <div class="flex gap-2">
                        <button id="btn-drv-create" class="btn">Add</button>
                        <button id="btn-drv-update" class="btn">Update</button>
                        <button id="btn-drv-delete" class="btn btn-secondary">Remove</button>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-lg font-semibold">Drivers</h2>
                    <button id="btn-drv-refresh" class="btn">Refresh</button>
                </div>
                <table class="table">
                    <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="drv-tbody"></tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="tab-orders" class="tab-panel hidden">
        <div class="grid md:grid-cols-2 gap-4">
            <div class="card">
                <h2 class="text-lg font-semibold mb-2">Add / Update Order</h2>
                <div class="grid gap-2">
                    <input id="ord-id" class="input" placeholder="ID (for update)" />
                    <input id="ord-customer" class="input" placeholder="Customer Name" />
                    <input id="ord-pickup" class="input" placeholder="Pickup Address" />
                    <input id="ord-dropoff" class="input" placeholder="Dropoff Address" />
                    <div class="flex gap-2">
                        <button id="btn-ord-create" class="btn">Add</button>
                        <button id="btn-ord-update" class="btn">Update</button>
                        <button id="btn-ord-delete" class="btn btn-secondary">Remove</button>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-lg font-semibold">Orders</h2>
                    <button id="btn-ord-refresh" class="btn">Refresh</button>
                </div>
                <table class="table">
                    <thead><tr><th>ID</th><th>Customer</th><th>Pickup</th><th>Dropoff</th><th>Actions</th></tr></thead>
                    <tbody id="ord-tbody"></tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="tab-deliveries" class="tab-panel hidden">
        <div class="grid md:grid-cols-2 gap-4">
            <div class="card">
                <h2 class="text-lg font-semibold mb-2">Add / Update Delivery</h2>
                <div class="grid gap-2">
                    <input id="del-id" class="input" placeholder="ID (for update)" />
                    <input id="del-pickup" class="input" placeholder="Pickup Address" />
                    <input id="del-dropoff" class="input" placeholder="Dropoff Address" />
                    <input id="del-status" class="input" placeholder="Status (PENDING/IN_PROGRESS/COMPLETED)" />
                    <div class="flex gap-2">
                        <button id="btn-del-create" class="btn">Add</button>
                        <button id="btn-del-update" class="btn">Update</button>
                        <button id="btn-del-delete" class="btn btn-secondary">Remove</button>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-lg font-semibold">Deliveries</h2>
                    <button id="btn-del-refresh" class="btn">Refresh</button>
                </div>
                <table class="table">
                    <thead><tr><th>ID</th><th>Pickup</th><th>Dropoff</th><th>Status</th><th>Directions</th><th>Actions</th></tr></thead>
                    <tbody id="del-tbody"></tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="tab-assignments" class="tab-panel hidden">
        <div class="grid md:grid-cols-2 gap-4">
            <div class="card">
                <h2 class="text-lg font-semibold mb-2">Add / Update Assignment</h2>
                <div class="grid gap-2">
                    <input id="asg-id" class="input" placeholder="ID (for update)" />
                    <input id="asg-orderId" class="input" placeholder="Order ID" />
                    <input id="asg-driverId" class="input" placeholder="Driver ID" />
                    <input id="asg-route" class="input" placeholder="Route notes" />
                    <div class="flex gap-2">
                        <button id="btn-asg-create" class="btn">Add</button>
                        <button id="btn-asg-update" class="btn">Update</button>
                        <button id="btn-asg-delete" class="btn btn-secondary">Remove</button>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-lg font-semibold">Assignments</h2>
                    <div class="flex gap-2">
                        <button id="btn-asg-refresh" class="btn">Refresh</button>
                        <button id="btn-asg-start" class="btn">Start</button>
                        <button id="btn-asg-complete" class="btn btn-secondary">Complete</button>
                        <button id="btn-asg-reassign" class="btn">Reassign</button>
                    </div>
                </div>
                <table class="table">
                    <thead><tr><th>ID</th><th>Order</th><th>Driver</th><th>Route</th><th>Actions</th></tr></thead>
                    <tbody id="asg-tbody"></tbody>
                </table>
            </div>
        </div>
    </section>

</main>
</body>
</html>


